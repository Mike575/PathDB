<script src="/openseadragon/openseadragon.min.js"></script>
<div id="openseadragon1">{{ url }}</div>
<div id="osdcontent" class="openseadragon-viewer">BLAH</div>
<script type="text/javascript">
window.addEventListener('load', 
  function() { 
        var tilesize = 256;
        var height = 67341;
        var width = 107519;
        var cool = "{{ url }}";
        var rcool = "{{ height }}";
        console.log("Inject : "+cool+" and ("+rcool+")");
        var filepath = "/data/images/tcga_data/luad/TCGA-05-4244-01Z-00-DX1.d4ff32cd-38cf-40ea-8213-45c2b100ac01.svs_files/";

var p = "http://imagebox.ebremer.com/iiif/?iiif=https://s3.amazonaws.com//ebremeribox/image.svs";
console.log("image ID : "+p);
    var viewer1 = OpenSeadragon({
        id: "osdcontent",
        preserveViewport: true,
        visibilityRatio:    1,
        minZoomLevel:       1,
        defaultZoomLevel:   1,
        prefixUrl: "/openseadragon/images/",
        tileSources: {
                "@context": "http://iiif.io/api/image/2/context.json",
                "@id": p,
                "height": 91462,
                "width": 191352,
                "profile": [ "http://iiif.io/api/image/2/level2.json" ],
                "protocol": "http://iiif.io/api/image",
                "tiles": [{
                          "scaleFactors": [ 1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 2048, 4096, 8192, 16384, 32768, 65536, 131072, 262144, 524288, 1048576],
                "width": 256
            }]
        }
    });



  }, false);
</script>

